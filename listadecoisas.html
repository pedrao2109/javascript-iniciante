<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="listadecoisas.css">
    <title>Lista de Tarefas</title>
</head>
<body>
    <h1>Lista de Tarefas</h1>
    <div class="tarefa">
    <input type="text" id="tarefa" name="tarefa">
    </div>
    <div class="botao">
    <button onclick="limparbarra()">Limpar</button>
    
    <span>ㅤㅤ</span>
    
    <input type="button" id="bottom" name="bottom" value="Adicionar" onclick="addtarefa()">
    </div>
    <ul id="lista" style="list-style: none;">     
    </ul>
    <p id="conc"></p>
    <ul id="listac" style="list-style: none;">
    </ul>

    <div class="data">
    <p>Data e hora das Tarefas</p>
    </div>
    <ul id="lista2" style="list-style: none;"></ul>
    <script>
        function addtarefa(){
            let time=Date.now()            
            let task = document.getElementById("tarefa")
            let list = document.getElementById("lista")
            let tagli = document.createElement('li')
            tagli.setAttribute("id", time)
            tagli.innerHTML = (`<input type="checkbox" onclick="tarefaConcluida(${time})"/>${task.value}<input type="button" value="Excluir" onclick="deletar(${time})"/>`)
            list.appendChild(tagli)
            datas();                 
        }
        function tarefaConcluida(idElementoConcluido){

            
            elementoConcluido = document.getElementById(idElementoConcluido);

            let input_elemento = elementoConcluido.querySelector("input");

            if (input_elemento.checked==true){
                let pai_li = input_elemento.parentElement;
                pai_li.style.textDecoration="line-through";
                let taskc = document.getElementById("conc")
                let = document.getElementById("listac")
                let tagli3 = document.createElement("li")
                tagli3.setAttribute("id", `tarefa_concluida_${idElementoConcluido}`);
                taskc.innerHTML = ("Tarefas Concluidas")
                tagli3.innerHTML = (`${elementoConcluido.innerText}`)
                ul2.appendChild(tagli3)
            }else{
                let pai_li = input_elemento.parentElement;
                pai_li.style.textDecoration="none";
                elem = document.getElementById(`tarefa_concluida_${idElementoConcluido}`);
                elem.remove();
                
            }

    
            
         }

         function deletar(idElemento){
            let del = document.getElementById(idElemento);
            del.style.justifyItems="left"
            del.remove()
            deltask = document.getElementById(`tarefa_concluida_${idElemento}`);
            deltask.remove();
         }
         function limparbarra(){
            document.getElementById('tarefa').value="";
         }
    </script>
</body>
</html>